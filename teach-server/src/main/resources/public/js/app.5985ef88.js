(function(e){function n(n){for(var r,u,c=n[0],i=n[1],s=n[2],l=0,d=[];l<c.length;l++)u=c[l],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&d.push(o[u][0]),o[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(n);while(d.length)d.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,u=1;u<t.length;u++){var i=t[u];0!==o[i]&&(r=!1)}r&&(a.splice(n--,1),e=c(c.s=t[0]))}return e}var r={},o={app:0},a=[];function u(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"fbf70b58","chunk-0ae7c7ad":"bdebaaeb","chunk-e4808e72":"8daf828b"}[e]+".js"}function c(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=o[e]=[n,r]}));n.push(t[2]=r);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=u(e);var s=new Error;a=function(n){i.onerror=i.onload=null,clearTimeout(l);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,t[1](s)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(n)},c.m=e,c.c=r,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)c.d(t,r,function(n){return e[n]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var b=s;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"1b2a":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("caad");var r=t("7a23");function o(e,n,t,o,a,u){var c=Object(r["P"])("router-view");return Object(r["I"])(),Object(r["k"])(c)}var a={name:"app"};t("8f5e");a.render=o;var u=a,c=t("a18c"),i=t("b50d"),s=t("7864");t("7dd6");c["a"].beforeEach((function(e,n,t){var r=["/login","/Register"],o=!r.includes(e.path),a=i["a"].state.loggedIn;if(o&&!a)return t("/login");t()})),Object(r["j"])(u).use(s["a"]).use(i["a"]).use(c["a"]).mount("#app")},"8f5e":function(e,n,t){"use strict";t("1b2a")},a18c:function(e,n,t){"use strict";t("d3b7"),t("3ca3"),t("ddb0");var r=t("6c02"),o=t("7a23"),a={class:"login"},u=Object(o["n"])("h2",null,"Login",-1),c={class:"form-group"},i=Object(o["n"])("label",{htmlFor:"username"},"用户名",-1),s={class:"invalid-feedback"},l={class:"form-group"},b=Object(o["n"])("label",{htmlFor:"password"},"口令",-1),d={class:"invalid-feedback"},p=Object(o["n"])("div",{class:"form-group"},[Object(o["n"])("button",{class:"btn btn-primary"},"登录")],-1);function f(e,n,t,r,f,m){return Object(o["I"])(),Object(o["m"])(o["b"],null,[Object(o["n"])("div",a,[u,Object(o["n"])("form",{onSubmit:n[2]||(n[2]=Object(o["hb"])((function(){return m.handleSubmit&&m.handleSubmit.apply(m,arguments)}),["prevent"]))},[Object(o["n"])("div",c,[i,Object(o["fb"])(Object(o["n"])("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return f.username=e}),name:"username",class:Object(o["z"])(["form-control",{"is-invalid":!f.username}])},null,2),[[o["ab"],f.username]]),Object(o["fb"])(Object(o["n"])("div",s,"请输入用户名",512),[[o["bb"],!f.username]])]),Object(o["n"])("div",l,[b,Object(o["fb"])(Object(o["n"])("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=function(e){return f.password=e}),name:"password",class:Object(o["z"])(["form-control",{"is-invalid":!f.password}])},null,2),[[o["ab"],f.password]]),Object(o["fb"])(Object(o["n"])("div",d,"请输入口令",512),[[o["bb"],!f.password]])]),p],32)]),Object(o["n"])("div",null,[Object(o["n"])("button",{onClick:n[3]||(n[3]=function(e){return m.reg()})},"注册")])],64)}var m={name:"Login",data:function(){return{username:"",password:""}},methods:{handleSubmit:function(){var e=this.username,n=this.password;e&&n&&this.$store.dispatch("login",{username:e,password:n})},reg:function(){this.$router.push("/Register")}}};m.render=f;var h=m,g=[{path:"/",name:"Home",component:function(){return t.e("about").then(t.bind(null,"bb51"))}},{path:"/login",name:"Login",component:h},{path:"/DashSample",name:"DashSample",component:function(){return t.e("about").then(t.bind(null,"c3c2"))}},{path:"/ChangePassword",name:"ChangePassword",component:function(){return t.e("about").then(t.bind(null,"994c"))}},{path:"/CourseTable",name:"CourseTable",component:function(){return t.e("about").then(t.bind(null,"2b5c"))}},{path:"/CourseEdit",name:"CourseEdit",component:function(){return t.e("about").then(t.bind(null,"0304"))}},{path:"/Register",name:"Register",component:function(){return t.e("chunk-e4808e72").then(t.bind(null,"73cf"))}},{path:"TeacherProfile",name:"TeacherProfile",component:function(){return t.e("chunk-0ae7c7ad").then(t.bind(null,"39ed"))}}],v=Object(r["a"])({history:Object(r["b"])("/"),routes:g});n["a"]=v},b50d:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t("5502"),o=t("bfa9"),a=t("a18c"),u=t("bc3a"),c=t.n(u);function i(e,n){return c.a.post("/api/auth/login",{username:e,password:n}).then((function(e){return e.data.accessToken}))}var s=new o["a"]({key:"vuex",storage:window.localStorage}),l=Object(r["a"])({state:function(){return{loggedIn:!1,username:"",jwtToken:""}},mutations:{login:function(e,n){var t=n.username,r=n.jwtToken;e.loggedIn=!0,e.username=t,e.jwtToken=r},logout:function(e){e.loggedIn=!1,e.username="",e.jwtToken=""}},actions:{login:function(e,n){var t=e.commit,r=n.username,o=n.password;i(r,o).then((function(e){console.log(e),t("login",{username:r,jwtToken:e}),a["a"].push("/")})).catch((function(e){alert("用户名或密码错误\n"+e)}))}},plugins:[s.plugin]})}});
//# sourceMappingURL=app.5985ef88.js.map